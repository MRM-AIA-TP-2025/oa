<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from martin.xacro                   | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="martin">
  <material name="silver">
    <color rgba="0.700 0.700 0.700 1.000"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>
  </material>
  <transmission name="joint_front_left_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_front_left">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_front_left_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="joint_front_right_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_front_right">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_front_right_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="joint_rear_left_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_rear_left">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_rear_left_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="joint_rear_right_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_rear_right">
      <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="joint_rear_right_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="base_link">
    <material>Gazebo/Orange</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
    <gravity>true</gravity>
  </gazebo>
  <gazebo reference="wheel_front_left_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="wheel_front_right_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="wheel_rear_left_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>
  <gazebo reference="wheel_rear_right_1">
    <material>Gazebo/Silver</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <selfCollide>true</selfCollide>
  </gazebo>
  <!-- Making  GPS Link -->
  <link name="gps_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.025 0.025 0.025"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.025 0.025 0.025"/>
      </geometry>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 1"/>
      <mass value="1"/>
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
    </inertial>
  </link>
  <!-- Joining gps with link_chassis -->
  <joint name="gps_joint" type="fixed">
    <parent link="base_link"/>
    <origin rpy="0 0 0" xyz="-0.06 0 0.07"/>
    <child link="gps_link"/>
  </joint>
  <!--  Gazebo Tags -->
  <!-- Link for IMU -->
  <link name="imu_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.051 0.051 0.051"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.051 0.051 0.051"/>
      </geometry>
    </visual>
  </link>
  <!-- Joining IMU with link_chassis -->
  <joint name="imu_joint" type="fixed">
    <axis xyz="0 1 0"/>
    <origin rpy="0 0 0" xyz="0 0 0.07"/>
    <parent link="base_link"/>
    <child link="imu_link"/>
  </joint>

  <!-- Making Lazer Link-->
  <link name="laser_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.075 0.075 0.075"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/sick_scan.dae"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <!-- Joint for lazer_link and link_chassis -->
  <joint name="laser_link" type="fixed">
    <axis xyz="0 0 0"/>
    <origin rpy="0 0 0" xyz="0.20 0 0.15"/>
    <parent link="base_link"/>
    <child link="laser_link"/>
  </joint>
  <!-- Gazebo information -->
  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.010646286022740195 -4.919653835224294e-16 0.07524542881356616"/>
      <mass value="47.91821428809842"/>
      <inertia ixx="0.350848" ixy="0.0" ixz="0.027353" iyy="1.008832" iyz="-0.0" izz="1.186927"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_front_left_1">
    <inertial>
      <origin rpy="0 0 0" xyz="2.3943220794908626e-08 -0.009939147977344326 -1.8492763799449197e-08"/>
      <mass value="0.552895033700559"/>
      <inertia ixx="0.001246" ixy="0.0" ixz="-0.0" iyy="0.002096" iyz="-0.0" izz="0.001246"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.01 0.005 -0.017"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/wheel.dae"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.07" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_front_right_1">
    <inertial>
      <origin rpy="0 0 0" xyz="1.796076479210207e-08 0.009939147977344354 1.3632938049290555e-08"/>
      <mass value="0.5528950337005641"/>
      <inertia ixx="0.001246" ixy="-0.0" ixz="0.0" iyy="0.002096" iyz="-0.0" izz="0.001246"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.14" xyz="0.01 -0.005 -0.017"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/wheel.dae"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.07" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_rear_left_1">
    <inertial>
      <origin rpy="0 0 0" xyz="2.481888500271978e-08 -0.009939147977344326 -1.6256707337930498e-08"/>
      <mass value="0.552895033700561"/>
      <inertia ixx="0.001246" ixy="0.0" ixz="-0.0" iyy="0.002096" iyz="-0.0" izz="0.001246"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.01 0.005 -0.017"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/wheel.dae"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.07" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <link name="wheel_rear_right_1">
    <inertial>
      <origin rpy="0 0 0" xyz="2.1544820399954645e-08 0.00993914797734427 1.3912224119255745e-08"/>
      <mass value="0.5528950337005801"/>
      <inertia ixx="0.001246" ixy="-0.0" ixz="0.0" iyy="0.002096" iyz="-0.0" izz="0.001246"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.14" xyz="0.01 -0.005 -0.017"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/wheel.dae"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="1.57 0 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.07" radius="0.08"/>
      </geometry>
    </collision>
  </link>
  <joint name="joint_front_left" type="continuous">
    <origin rpy="0 0 0" xyz="0.125 0.16 0.03"/>
    <parent link="base_link"/>
    <child link="wheel_front_left_1"/>
    <axis xyz="0.0 1.0 0.0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <joint name="joint_front_right" type="continuous">
    <origin rpy="0 0 0" xyz="0.125 -0.16 0.03"/>
    <parent link="base_link"/>
    <child link="wheel_front_right_1"/>
    <axis xyz="0.0 1.0 0.0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <joint name="joint_rear_left" type="continuous">
    <origin rpy="0 0 0" xyz="-0.125 0.16 0.03"/>
    <parent link="base_link"/>
    <child link="wheel_rear_left_1"/>
    <axis xyz="0.0 1.0 0.0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <joint name="joint_rear_right" type="continuous">
    <origin rpy="0 0 0" xyz="-0.125 -0.16 0.03"/>
    <parent link="base_link"/>
    <child link="wheel_rear_right_1"/>
    <axis xyz="0.0 1.0 0.0"/>
    <limit effort="10000" velocity="1000"/>
    <joint_properties damping="1.0" friction="1.0"/>
  </joint>
  <joint name="zed2_tilt_head_joint" type="fixed">
    <origin rpy="0 0.02 0" xyz="0.25 0 0.02"/>
    <parent link="base_link"/>
    <child link="zed2_tilt_head_link"/>
  </joint>
  <link name="zed2_tilt_head_link">
    <inertial>
      <mass value="0.108614"/>
      <origin xyz="0 -0.008564 0.015313"/>
      <inertia ixx="7.371e-5" ixy="0.0" ixz="1.326071e-6" iyy="3.14e-5" iyz="-1.424e-5" izz="6.13e-5"/>
    </inertial>
    <visual>
      <origin rpy="0 0 3.141592653589793" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/zed2_base.dae"/>
      </geometry>
    </visual>
    <collision>
      <origin rpy="0 0 3.141592653589793" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/zed2_base.dae"/>
      </geometry>
    </collision>
  </link>
  <joint name="zed2_camera_center_joint" type="fixed">
    <parent link="zed2_tilt_head_link"/>
    <child link="zed2_camera_center"/>
    <origin rpy="0 0.032637657 0" xyz="0 0 0.0486"/>
  </joint>
  <!-- Camera Center -->
  <link name="zed2_camera_center">
    <inertial>
      <mass value="0.00"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.0003947" ixy="0.0" ixz="3.3365e-8" iyy="2.417e-5" iyz="0.0" izz="0.0003973"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/zed2.dae"/>
      </geometry>
    </visual>
    <collision>
      <geometry>
        <mesh filename="/home/akshat/ros2WS/src/robot/meshes/zed2.dae"/>
      </geometry>
    </collision>
  </link>
  <!-- Left Camera -->
  <joint name="zed2_left_camera_joint" type="fixed">
    <parent link="zed2_camera_center"/>
    <child link="zed2_left_camera_frame"/>
    <origin rpy="0 0 0" xyz="0 0.06 0"/>
  </joint>
  <link name="zed2_left_camera_frame"/>
  <joint name="zed2_left_camera_optical_joint" type="fixed">
    <origin rpy="-1.5707963267948966 0.0 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="zed2_left_camera_frame"/>
    <child link="zed2_left_camera_optical_frame"/>
  </joint>
  <link name="zed2_left_camera_optical_frame"/>
  <!-- Right Camera -->
  <joint name="zed2_right_camera_joint" type="fixed">
    <parent link="zed2_camera_center"/>
    <child link="zed2_right_camera_frame"/>
    <origin rpy="0 0 0" xyz="0 -0.06 0"/>
  </joint>
  <link name="zed2_right_camera_frame"/>
  <joint name="zed2_right_camera_optical_joint" type="fixed">
    <origin rpy="-1.5707963267948966 0.0 -1.5707963267948966" xyz="0 0 0"/>
    <parent link="zed2_right_camera_frame"/>
    <child link="zed2_right_camera_optical_frame"/>
  </joint>
  <link name="zed2_right_camera_optical_frame"/>
  <!-- Sensors -->
  <joint name="zed2_mag_joint" type="fixed">
    <parent link="zed2_camera_center"/>
    <child link="zed2_mag_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="zed2_mag_link"/>
  <joint name="zed2_baro_joint" type="fixed">
    <parent link="zed2_camera_center"/>
    <child link="zed2_baro_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="zed2_baro_link"/>
  <joint name="zed2_temp_left_joint" type="fixed">
    <parent link="zed2_left_camera_frame"/>
    <child link="zed2_temp_left_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="zed2_temp_left_link"/>
  <joint name="zed2_temp_right_joint" type="fixed">
    <parent link="zed2_right_camera_frame"/>
    <child link="zed2_temp_right_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="zed2_temp_right_link"/>

  <!-- camera -->
  <gazebo reference="camera_frame">
    <sensor name="leo_camera" type="camera">
      <always_on>true</always_on>
      <update_rate>30.0</update_rate>
      <visualize>false</visualize>
      <camera name="leo_camera">
        <horizontal_fov>1.9</horizontal_fov>
        <image>
          <width>640</width>
          <height>480</height>
          <format>R8G8B8</format>
        </image>
        <clip>
          <near>0.02</near>
          <far>300</far>
        </clip>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.007</stddev>
        </noise>
        <distortion>
          <k1>-0.279817</k1>
          <k2>0.060321</k2>
          <k3>0.000487</k3>
          <p1>0.000310</p1>
          <p2>0.000000</p2>
          <center>0.5 0.5</center>
        </distortion>
      </camera>
      <plugin filename="libgazebo_ros_camera.so" name="camera_controller">
        <robotNamespace>/</robotNamespace>
        <cameraName>camera</cameraName>
        <imageTopicName>image_raw</imageTopicName>
        <cameraInfoTopicName>camera_info</cameraInfoTopicName>
        <frameName>camera_optical_frame</frameName>
        <distortionK1>-0.279817</distortionK1>
        <distortionK2>0.060321</distortionK2>
        <distortionK3>0.000487</distortionK3>
        <distortionT1>0.000310</distortionT1>
        <distortionT2>0.000000</distortionT2>
      </plugin>
    </sensor>
  </gazebo>
  <!-- rocker differential -->
  <gazebo>
    <plugin filename="libgazebo_ros_diff_drive.so" name="skid_steer_drive_controller">
      <num_wheel_pairs>2</num_wheel_pairs>
      <left_joint>joint_front_left</left_joint>
      <left_joint>joint_rear_left</left_joint>
      <right_joint>joint_front_right</right_joint>
      <right_joint>joint_rear_right</right_joint>
      <robot_base_frame>base_link</robot_base_frame>
      <max_wheel_torque>100.0</max_wheel_torque>
      <max_wheel_acceleration>10.0</max_wheel_acceleration>
      <wheelSeparation>1.2</wheelSeparation>
      <wheelDiameter>0.80</wheelDiameter>
      <ros>
          <namespace>/</namespace>
          <argument>/cmd_vel:=cmd_vel</argument>
          <argument>/odom:=odom</argument>
      </ros>
      <publish_odom>true</publish_odom>
      <publish_odom_tf>true</publish_odom_tf>
      <update_rate>30.0</update_rate>
    </plugin>
  </gazebo>
  <!--IMU-->
  <gazebo reference="imu_link">
  <sensor name="imu_sensor" type="imu">
        <always_on>true</always_on>
        <update_rate>100</update_rate>
        <topic>imu_data</topic>
        <imu>
          <angular_velocity>
            <x>
              <noise type="gaussian">
                <mean>0.0</mean>
                <stddev>0.0</stddev>
              </noise>
            </x>
            <y>
              <noise type="gaussian">
                <mean>0.0</mean>
                <stddev>0.0</stddev>
              </noise>
            </y>
            <z>
              <noise type="gaussian">
                <mean>0.0</mean>
                <stddev>0.0</stddev>
              </noise>
            </z>
          </angular_velocity>
          <linear_acceleration>
            <x>
              <noise type="gaussian">
                <mean>0.0</mean>
                <stddev>0.0</stddev>
              </noise>
            </x>
            <y>
              <noise type="gaussian">
                <mean>0.0</mean>
                <stddev>0.0</stddev>
              </noise>
            </y>
            <z>
              <noise type="gaussian">
                <mean>0.0</mean>
                <stddev>0.0</stddev>
              </noise>
            </z>
          </linear_acceleration>
        </imu>
        <plugin name="bytes_imu" filename="libgazebo_ros_imu_sensor.so">
            <ros>
                <namespace>imu</namespace>
                <remapping>~/out:=imu_data</remapping>
            </ros>
            <frameName>imu_link</frameName>
            <initial_orientation_as_reference>false</initial_orientation_as_reference>
        </plugin>
    </sensor>
  </gazebo>


    <!-- Left/Depth camera -->
    <gazebo reference="zed2_left_camera_frame">
      <!-- Raw images (with lens distortion) -->
      <sensor type="camera" name="zed2_left_raw_camera">
        <always_on>true</always_on>
        <update_rate>120.0</update_rate>
        <visualize>false</visualize> 
        <camera name="zed2_left_raw">
          <horizontal_fov>1.7633</horizontal_fov>
          <image>
            <width>1280</width>
            <height>720</height>
            <format>R8G8B8</format>
          </image>
          <clip>
            <near>0.02</near>
            <far>300</far>
          </clip>
          <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.007</stddev>
          </noise>
          <distortion>
            <!-- Values copied from an actual ZED2 camera -->
            <k1>-0.043693598</k1>
            <k2>0.0146164996</k2>
            <p1>-0.006573319</p1>
            <p2>-0.000216900</p2>
            <k3>0.000084328</k3>
            <center>0.5 0.5</center>
          </distortion>
        </camera>
        <plugin name="camera_controller" filename="libgazebo_ros_camera.so">
          <cameraName>zed2/left_raw</cameraName>
          <imageTopicName>image_raw_color</imageTopicName>
          <cameraInfoTopicName>camera_info</cameraInfoTopicName>
          <frameName>zed2_left_camera_optical_frame</frameName>
          <distortionK1>-0.043693598</distortionK1>
          <distortionK2>0.0146164996</distortionK2>
          <distortionT1>-0.006573319</distortionT1>
          <distortionT2>-0.000216900</distortionT2>
          <distortionK3>0.000084328</distortionK3>
          <CxPrime>648.5</CxPrime>
          <Cx>648.5</Cx>
          <Cy>366.8340148925781</Cy>
          <hackBaseline>0.0</hackBaseline>
        </plugin>
      </sensor>

      <sensor type="depth" name="zed2_left_camera">
        <!-- Rectified images, Depth images, Point Clouds -->
        <always_on>true</always_on>
        <update_rate>15.0</update_rate>
        <visualize>false</visualize> 
        <camera name="zed2_left">
          <horizontal_fov>1.7633</horizontal_fov>
          <image>
            <width>1280</width>
            <height>720</height>
            <format>R8G8B8</format>
          </image>
          <clip>
            <near>0.02</near>
            <far>300</far>
          </clip>
          <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.007</stddev>
          </noise>
        </camera>
        <plugin name="camera_controller2" filename="libgazebo_ros_camera.so">
          <cameraName>zed2</cameraName>
          <imageTopicName>left/image_rect_color</imageTopicName>
          <cameraInfoTopicName>left/camera_info</cameraInfoTopicName>
          <depthImageTopicName>depth/depth_registered</depthImageTopicName>
          <depthImageInfoTopicName>depth/camera_info</depthImageInfoTopicName>
          <pointCloudTopicName>point_cloud/cloud_registered</pointCloudTopicName>
          <pointCloudCutoff>0.3</pointCloudCutoff>
          <pointCloudCutoffMax>20.0</pointCloudCutoffMax>
          <frameName>zed2_left_camera_optical_frame</frameName>
          <baseline>0.12</baseline>
          <CxPrime>658.8206787109375</CxPrime>
          <Cx>658.8206787109375</Cx>
          <Cy>372.25787353515625</Cy>
          <hackBaseline>0.0</hackBaseline>
        </plugin>
      </sensor>
    </gazebo>

    <!-- Right camera -->
    <gazebo reference="zed2_right_camera_frame">
      <!-- Raw images (with lens distortion) -->
      <sensor type="camera" name="zed2_right_raw_camera">
        <always_on>true</always_on>
        <update_rate>15.0</update_rate>
        <visualize>false</visualize> 
        <camera name="zed2_right_raw">
          <horizontal_fov>1.7633</horizontal_fov>
          <image>
            <width>1280</width>
            <height>720</height>
            <format>R8G8B8</format>
          </image>
          <clip>
            <near>0.02</near>
            <far>300</far>
          </clip>
          <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.007</stddev>
          </noise>
          <distortion>
            <k1>-0.040993299</k1>
            <k2>0.009593590</k2>
            <p1>-0.004429849</p1>
            <p2>0.000192024</p2>
            <k3>-0.000320880</k3>
            <center>0.5 0.5</center>
          </distortion>
        </camera>
        <plugin name="camera_controller3" filename="libgazebo_ros_camera.so">
          <cameraName>zed2/right_raw</cameraName>
          <imageTopicName>image_raw_color</imageTopicName>
          <cameraInfoTopicName>camera_info</cameraInfoTopicName>
          <frameName>zed2_right_camera_optical_frame</frameName>
          <distortionK1>-0.040993299</distortionK1>
          <distortionK2>0.009593590</distortionK2>
          <distortionT1>-0.004429849</distortionT1>
          <distortionT2>0.000192024</distortionT2>
          <distortionK3>-0.000320880</distortionK3>
          <CxPrime>659.3049926757812</CxPrime>
          <Cx>659.3049926757812</Cx>
          <Cy>371.39849853515625</Cy>
          <hackBaseline>0.12</hackBaseline>
        </plugin>
      </sensor>

      <sensor type="camera" name="zed2_right_camera">
        <!-- Rectified images -->
        <always_on>true</always_on>
        <update_rate>15.0</update_rate>
        <visualize>false</visualize> 
        <camera name="zed2_right">
          <horizontal_fov>1.7633</horizontal_fov>
          <image>
            <width>1280</width>
            <height>720</height>
            <format>R8G8B8</format>
          </image>
          <clip>
            <near>0.02</near>
            <far>300</far>
          </clip>
          <noise>
            <type>gaussian</type>
            <mean>0.0</mean>
            <stddev>0.007</stddev>
          </noise>
        </camera>
        <plugin name="camera_controller4" filename="libgazebo_ros_camera.so">
          <cameraName>zed2/right</cameraName>
          <imageTopicName>image_rect_color</imageTopicName>
          <cameraInfoTopicName>camera_info</cameraInfoTopicName>
          <frameName>zed2_right_camera_optical_frame</frameName>
          <CxPrime>658.8206787109375</CxPrime>
          <Cx>658.8206787109375</Cx>
          <Cy>372.25787353515625</Cy>
          <hackBaseline>0.12</hackBaseline>
        </plugin>
      </sensor>
    </gazebo>
  <gazebo reference="gps_link">
    <sensor name="gps_sensor" type="gps">
        <always_on>true</always_on>
        <update_rate>1.0</update_rate>
        <plugin name="gps_controller" filename="libgazebo_ros_gps_sensor.so">
            <ros>
                <!-- <namespace>/br</namespace> -->
                <remapping>gps_controller/out:=gps</remapping>
            </ros>
            <frame_name>gps_link</frame_name>
        </plugin>
    </sensor>
</gazebo>

    <gazebo reference="laser_link">
        <sensor name="laser" type="ray">
            <pose> 0 0 0 0 0 0 </pose>
            <visualize>true</visualize>
            <update_rate>40</update_rate>
            <ray>
                <scan>
                    <horizontal>
                        <samples>1101</samples>
                        <min_angle>-2.356</min_angle>
                        <max_angle>2.356</max_angle>
                    </horizontal>
                </scan>
                <range>
                    <min>0.1</min>
                    <max>10</max>
                    <resolution>0.01</resolution>
                </range>
                <noise>
                  <type>gaussian</type>
                  <mean>0.0</mean>
                  <stddev>0.01</stddev>
                </noise>
            </ray>

            <plugin name="laser_controller" filename="libgazebo_ros_ray_sensor.so">
                <ros>
                    <remapping>~/out:=scan</remapping>
                </ros>
                <output_type>sensor_msgs/LaserScan</output_type>
                <frame_name>laser_link</frame_name>
            </plugin>
        </sensor>
    </gazebo>
</robot>
